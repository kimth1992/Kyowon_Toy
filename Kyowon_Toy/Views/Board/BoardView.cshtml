@using System.Security.Claims
@model BoardModel
@{
    var next = ViewBag.NextBoard;
    var pre = ViewBag.preBoard;

}

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered no-wrap">
                        <colgroup>
                            <col style="width:100px" />
                            <col style="width:auto" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <th>게시자 -> 조회수</th>
                                <td>@Model.View_Cnt</td>
                                <th>게시일</th>
                                <td>@Model.registeredDate.ToString("yyyy-MM-dd hh:mm:ss")</td>
                                <th>게시 종료일</th>
                                <td>영구 게시</td>
                            </tr>
                            <tr>
                                <th>부  서</th>
                                <td>어딘가의 부서</td>
                                <th>직책</th>
                                <td>뭔가의 직책</td>
                                <th>전화번호</th>
                                <td colspan="3">전화번호 가져오기</td>
                            </tr>
                            <tr>
                                <th>제목</th>
                                <td>@Model.Title</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div>
                    <table class="table table-bordered no-wrap">
                        <colgroup>
                            <col style="width:100px" />
                            <col style="width:auto" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td>@Html.Raw(@Model.Contents)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>



                <div class="text-right">
                    @if (Model.User == Convert.ToUInt32(User.FindFirstValue(ClaimTypes.NameIdentifier)))
                    {
                        <button id="btnU" class="btn btn-sm btn-primary">수정</button>
                        <button id="btnD" class="btn btn-sm btn-danger">삭제</button>
                        <form id="form1" method="post" action="/board/boardEdit">
                            <input type="hidden" name="idx" value="@Model.Idx">
                            <input type="hidden" name="type" value="">
                        </form>
                    }
                </div>



                <div>
                    <table class="table table-bordered no-wrap">
                        <colgroup>
                            <col style="width:100px" />
                            <col style="width:auto" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <th>다음글</th>
                                <td>
                                    @if(@next.Idx != 0)
                                    {
                                    <a href="/board/boardview?idx=@(next.Idx)">
                                        @next.Title
                                        </a>
                                    }
                                    else
                                    {
                                         @next.Title
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th>이전글</th>
                                <td>
                                      @if(@pre.Idx != 0)
                                    {
                                    <a href="/board/boardview?idx=@(pre.Idx)">
                                        @pre.Title
                                        </a>
                                    }
                                    else
                                    {
                                         @pre.Title
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>


                </div>



            </div>
        </div>
    </div>
</div>

<script>
    $("#btnU").click(function() {
        $("#form1 input[name=type]").val("U");
        $("#form1").submit();
    });

      $("#btnD").click(function() {
        $("#form1 input[name=type]").val("D");
        $("#form1").submit();
    });
</script>